[gd_scene load_steps=19 format=2]

[ext_resource path="res://Niveles/Battle_NavMesh/MeshLibraryCustom.tres" type="MeshLibrary" id=1]
[ext_resource path="res://personajes/Matilda/prefab/Matilda.tscn" type="PackedScene" id=2]
[ext_resource path="res://Niveles/Battle_NavMesh/WorldMap.gd" type="Script" id=3]
[ext_resource path="res://personajes/alienShooter/prefab/Shooter.tscn" type="PackedScene" id=4]
[ext_resource path="res://personajes/alien/prefab/Monstruo.tscn" type="PackedScene" id=5]
[ext_resource path="res://Objetos/Caja/prefab/Caja.tscn" type="PackedScene" id=6]
[ext_resource path="res://Singletons/Global.tscn" type="PackedScene" id=7]
[ext_resource path="res://Niveles/Battle_NavMesh/Target.gd" type="Script" id=8]

[sub_resource type="NavigationMesh" id=1]
vertices = PoolVector3Array( -11.8256, 1.10095, -4.49, -10.3056, 1.10095, -4.49, -9.92559, 1.10095, -5.06, -11.8256, 1.10095, -9.81, -8.02559, 1.10095, -5.44, -2.13559, 1.10095, -5.06, -2.13559, 1.10095, -9.81, -11.8256, 1.10095, -9.81, -11.8256, 1.10095, -9.81, -9.92559, 1.10095, -5.06, -8.59559, 1.10095, -5.44, -11.8256, 1.10095, -9.81, -8.59559, 1.10095, -5.44, -8.02559, 1.10095, -5.44, -8.02559, 1.10095, -5.44, -7.83559, 1.10095, -5.06, -2.13559, 1.10095, -5.06, -4.98559, 1.10095, 1.97, -4.79559, 1.10095, 2.35, -2.13559, 1.10095, 2.35, -8.59559, 1.10095, -3.73, -10.3056, 1.10095, -4.49, -11.8256, 1.10095, -4.49, -11.8256, 1.10095, 1.97, -2.13559, 1.10095, -4.11, -7.83559, 1.10095, -4.11, -8.02559, 1.10095, -3.73, -4.98559, 1.10095, 1.97, -2.13559, 1.10095, 2.35, -8.59559, 1.10095, -3.73, -11.8256, 1.10095, 1.97, -4.98559, 1.10095, 1.97, -8.02559, 1.10095, -3.73, -11.8256, 1.10095, 8.81, -9.35559, 1.10095, 8.81, -9.16559, 1.10095, 8.24, -11.8256, 1.10095, 2.92, -2.13559, 1.10095, 2.35, -4.79559, 1.10095, 2.35, -4.98559, 1.10095, 2.92, -2.13559, 1.10095, 8.24, -9.16559, 1.10095, 8.24, -2.13559, 1.10095, 8.24, -4.98559, 1.10095, 2.92, -11.8256, 1.10095, 2.92, -8.97559, 2.20095, 8.62, -8.97559, 2.20095, 9, -2.13559, 2.20095, 9, -2.13559, 2.20095, 8.62, -3.65559, 1.10095, 10.71, -3.08559, 1.10095, 10.52, -2.13559, 1.10095, 9.38, -9.16559, 1.10095, 9.38, -2.13559, 1.10095, 11.85, -2.13559, 1.10095, 9.38, -3.08559, 1.10095, 10.52, -2.89559, 1.10095, 10.9, -3.46559, 1.10095, 11.09, -3.65559, 1.10095, 10.71, -9.16559, 1.10095, 9.38, -2.13559, 1.10095, 11.85, -2.89559, 1.10095, 10.9, -3.46559, 1.10095, 11.09, -9.16559, 1.10095, 9.38, -9.35559, 1.10095, 8.81, -11.8256, 1.10095, 8.81, -9.16559, 1.10095, 9.38, -11.8256, 1.10095, 8.81, -11.8256, 1.10095, 11.85, -2.13559, 1.10095, 11.85, -3.46559, 1.10095, 11.09 )
polygons = [ PoolIntArray( 3, 2, 0 ), PoolIntArray( 0, 2, 1 ), PoolIntArray( 7, 6, 4 ), PoolIntArray( 4, 6, 5 ), PoolIntArray( 10, 9, 8 ), PoolIntArray( 13, 12, 11 ), PoolIntArray( 16, 15, 14 ), PoolIntArray( 19, 18, 17 ), PoolIntArray( 23, 22, 20 ), PoolIntArray( 20, 22, 21 ), PoolIntArray( 28, 27, 24 ), PoolIntArray( 24, 27, 26 ), PoolIntArray( 24, 26, 25 ), PoolIntArray( 32, 31, 29 ), PoolIntArray( 29, 31, 30 ), PoolIntArray( 36, 35, 33 ), PoolIntArray( 33, 35, 34 ), PoolIntArray( 40, 39, 37 ), PoolIntArray( 37, 39, 38 ), PoolIntArray( 44, 43, 41 ), PoolIntArray( 41, 43, 42 ), PoolIntArray( 48, 47, 45 ), PoolIntArray( 45, 47, 46 ), PoolIntArray( 52, 51, 49 ), PoolIntArray( 49, 51, 50 ), PoolIntArray( 56, 55, 53 ), PoolIntArray( 53, 55, 54 ), PoolIntArray( 59, 58, 57 ), PoolIntArray( 62, 61, 60 ), PoolIntArray( 65, 64, 63 ), PoolIntArray( 70, 69, 66 ), PoolIntArray( 66, 69, 67 ), PoolIntArray( 67, 69, 68 ) ]
cell/size = 0.19
cell/height = 0.1
agent/height = 0.49
agent/radius = 0.1
agent/max_climb = 0.1
agent/max_slope = 20.0

[sub_resource type="CubeMesh" id=2]
size = Vector3( 7, 1, 0.5 )

[sub_resource type="ConcavePolygonShape" id=3]
data = PoolVector3Array( -3.5, 0.5, 0.25, 3.5, 0.5, 0.25, -3.5, -0.5, 0.25, 3.5, 0.5, 0.25, 3.5, -0.5, 0.25, -3.5, -0.5, 0.25, 3.5, 0.5, -0.25, -3.5, 0.5, -0.25, 3.5, -0.5, -0.25, -3.5, 0.5, -0.25, -3.5, -0.5, -0.25, 3.5, -0.5, -0.25, 3.5, 0.5, 0.25, 3.5, 0.5, -0.25, 3.5, -0.5, 0.25, 3.5, 0.5, -0.25, 3.5, -0.5, -0.25, 3.5, -0.5, 0.25, -3.5, 0.5, -0.25, -3.5, 0.5, 0.25, -3.5, -0.5, -0.25, -3.5, 0.5, 0.25, -3.5, -0.5, 0.25, -3.5, -0.5, -0.25, 3.5, 0.5, 0.25, -3.5, 0.5, 0.25, 3.5, 0.5, -0.25, -3.5, 0.5, 0.25, -3.5, 0.5, -0.25, 3.5, 0.5, -0.25, -3.5, -0.5, 0.25, 3.5, -0.5, 0.25, -3.5, -0.5, -0.25, 3.5, -0.5, 0.25, 3.5, -0.5, -0.25, -3.5, -0.5, -0.25 )

[sub_resource type="ConcavePolygonShape" id=4]
data = PoolVector3Array( -3.5, 0.5, 0.25, 3.5, 0.5, 0.25, -3.5, -0.5, 0.25, 3.5, 0.5, 0.25, 3.5, -0.5, 0.25, -3.5, -0.5, 0.25, 3.5, 0.5, -0.25, -3.5, 0.5, -0.25, 3.5, -0.5, -0.25, -3.5, 0.5, -0.25, -3.5, -0.5, -0.25, 3.5, -0.5, -0.25, 3.5, 0.5, 0.25, 3.5, 0.5, -0.25, 3.5, -0.5, 0.25, 3.5, 0.5, -0.25, 3.5, -0.5, -0.25, 3.5, -0.5, 0.25, -3.5, 0.5, -0.25, -3.5, 0.5, 0.25, -3.5, -0.5, -0.25, -3.5, 0.5, 0.25, -3.5, -0.5, 0.25, -3.5, -0.5, -0.25, 3.5, 0.5, 0.25, -3.5, 0.5, 0.25, 3.5, 0.5, -0.25, -3.5, 0.5, 0.25, -3.5, 0.5, -0.25, 3.5, 0.5, -0.25, -3.5, -0.5, 0.25, 3.5, -0.5, 0.25, -3.5, -0.5, -0.25, 3.5, -0.5, 0.25, 3.5, -0.5, -0.25, -3.5, -0.5, -0.25 )

[sub_resource type="ConcavePolygonShape" id=5]
data = PoolVector3Array( -3.5, 0.5, 0.25, 3.5, 0.5, 0.25, -3.5, -0.5, 0.25, 3.5, 0.5, 0.25, 3.5, -0.5, 0.25, -3.5, -0.5, 0.25, 3.5, 0.5, -0.25, -3.5, 0.5, -0.25, 3.5, -0.5, -0.25, -3.5, 0.5, -0.25, -3.5, -0.5, -0.25, 3.5, -0.5, -0.25, 3.5, 0.5, 0.25, 3.5, 0.5, -0.25, 3.5, -0.5, 0.25, 3.5, 0.5, -0.25, 3.5, -0.5, -0.25, 3.5, -0.5, 0.25, -3.5, 0.5, -0.25, -3.5, 0.5, 0.25, -3.5, -0.5, -0.25, -3.5, 0.5, 0.25, -3.5, -0.5, 0.25, -3.5, -0.5, -0.25, 3.5, 0.5, 0.25, -3.5, 0.5, 0.25, 3.5, 0.5, -0.25, -3.5, 0.5, 0.25, -3.5, 0.5, -0.25, 3.5, 0.5, -0.25, -3.5, -0.5, 0.25, 3.5, -0.5, 0.25, -3.5, -0.5, -0.25, 3.5, -0.5, 0.25, 3.5, -0.5, -0.25, -3.5, -0.5, -0.25 )

[sub_resource type="PrismMesh" id=6]

[sub_resource type="ConcavePolygonShape" id=7]
data = PoolVector3Array( 0, 1, 1, 1, -1, 1, -1, -1, 1, 0, 1, -1, -1, -1, -1, 1, -1, -1, 0, 1, 1, 0, 1, -1, 1, -1, 1, 0, 1, -1, 1, -1, -1, 1, -1, 1, 0, 1, -1, 0, 1, 1, -1, -1, -1, 0, 1, 1, -1, -1, 1, -1, -1, -1, -1, -1, 1, 1, -1, 1, -1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1, -1 )

[sub_resource type="PrismMesh" id=8]

[sub_resource type="SpatialMaterial" id=9]
albedo_color = Color( 1, 0, 0, 1 )

[sub_resource type="CylinderShape" id=10]
radius = 1.65596
height = 1.61502

[node name="WorldMap" type="Spatial"]
script = ExtResource( 3 )

[node name="Controller" parent="." instance=ExtResource( 7 )]
mode = 0
mins = 1

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
navmesh = SubResource( 1 )

[node name="GridMap" type="GridMap" parent="Navigation/NavigationMeshInstance"]
mesh_library = ExtResource( 1 )
data = {
"cells": PoolIntArray( 65530, 0, 16, 65531, 0, 16, 65532, 0, 16, 65533, 0, 16, 65534, 0, 16, 65530, 1, 16, 65531, 1, 16, 65532, 1, 16, 65533, 1, 16, 65534, 1, 16, 65530, 2, 16, 65531, 2, 16, 65532, 2, 16, 65533, 2, 16, 65534, 2, 16, 65530, 3, 16, 65531, 3, 16, 65532, 3, 16, 65533, 3, 16, 65534, 3, 16, 65530, 4, 16, 65531, 4, 16, 65532, 4, 16, 65533, 4, 16, 65534, 4, 16, 65530, 5, 16, 65531, 5, 16, 65532, 5, 16, 65533, 5, 16, 65534, 5, 655376, 65530, 65531, 16, 65531, 65531, 16, 65532, 65531, 16, 65533, 65531, 16, 65534, 65531, 16, 65530, 65532, 16, 65531, 65532, 16, 65532, 65532, 16, 65533, 65532, 16, 65534, 65532, 16, 65530, 65533, 16, 65531, 65533, 16, 65532, 65533, 16, 65533, 65533, 16, 65534, 65533, 16, 65530, 65534, 16, 65531, 65534, 16, 65532, 65534, 16, 65533, 65534, 16, 65534, 65534, 16, 65530, 65535, 16, 65531, 65535, 16, 65532, 65535, 16, 65533, 65535, 16, 65534, 65535, 16 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 0, 0 )
}

[node name="Cube" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.51559, 1.41866, 2.47667 )
mesh = SubResource( 2 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Navigation/NavigationMeshInstance/Cube"]

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/Cube/StaticBody"]
shape = SubResource( 3 )

[node name="Cube2" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.53088, 1.36508, -4.57239 )
mesh = SubResource( 2 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Navigation/NavigationMeshInstance/Cube2"]

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/Cube2/StaticBody"]
shape = SubResource( 4 )

[node name="Cube3" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.53088, 1.52445, 8.8627 )
mesh = SubResource( 2 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Navigation/NavigationMeshInstance/Cube3"]

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/Cube3/StaticBody"]
shape = SubResource( 5 )

[node name="Arrow" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( -1.62921e-07, -1, 0, -1.00907e-07, 1.64399e-14, -0.619366, 0.635149, -1.03479e-07, -1.03479e-07, -9.06259, 1.42032, -4.59251 )
mesh = SubResource( 6 )
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Navigation/NavigationMeshInstance/Arrow"]

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/Arrow/StaticBody"]
shape = SubResource( 7 )

[node name="Target" type="Area" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.23304, 1.79225, 10.7898 )
script = ExtResource( 8 )

[node name="MeshIntance" type="MeshInstance" parent="Navigation/NavigationMeshInstance/Target"]
transform = Transform( 0.112663, 0, 0, 0, 1, 0, 0, 0, 0.0385337, -0.00497437, 0.287172, 0.039979 )
mesh = SubResource( 8 )
material/0 = SubResource( 9 )

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/Target"]
transform = Transform( 0.403143, 0, 0, 0, 0.846031, 0, 0, 0, 0.487168, -0.00497437, 0.287172, 0.00589275 )
shape = SubResource( 10 )

[node name="Matilda" parent="Navigation" instance=ExtResource( 2 )]
transform = Transform( 3, 0, 0, 0, 3, 0, 0, 0, 3, -7.24561, 1.00306, 0.764132 )

[node name="Shooter" parent="Navigation" instance=ExtResource( 4 )]
transform = Transform( 10, 0, 0, 0, 10, 0, 0, 0, 10, -4.10841, 1.09779, -7.58464 )

[node name="Monstruo" parent="Navigation" instance=ExtResource( 5 )]
transform = Transform( 10, 0, 0, 0, 10, 0, 0, 0, 10, -6.8916, 1.19928, 5.64469 )

[node name="CajaHP" parent="." instance=ExtResource( 6 )]
transform = Transform( 0.0982024, -0.0188276, 0.00134716, 0.0187817, 0.0967519, -0.016921, 0.00188241, 0.0168698, 0.0985488, -3.2221, 1.30453, 0 )

[node name="CajaHP2" parent="." instance=ExtResource( 6 )]
transform = Transform( 0.0982024, -0.0188276, 0.00134716, 0.0187817, 0.0967519, -0.016921, 0.00188241, 0.0168698, 0.0985488, -10.5549, 1.30453, -2.33083 )

[node name="CajaHP3" parent="." instance=ExtResource( 6 )]
transform = Transform( 0.0982024, -0.0188276, 0.00134716, 0.0187817, 0.0967519, -0.016921, 0.00188241, 0.0168698, 0.0985488, -10.8191, 1.30453, -7.78652 )

[node name="CajaHP4" parent="." instance=ExtResource( 6 )]
transform = Transform( 0.0982024, -0.0188276, 0.00134716, 0.0187817, 0.0967519, -0.016921, 0.00188241, 0.0168698, 0.0985488, -4.14278, 1.30453, 4.33361 )
[connection signal="body_entered" from="Navigation/NavigationMeshInstance/Target" to="Controller" method="_on_Target_body_entered"]
